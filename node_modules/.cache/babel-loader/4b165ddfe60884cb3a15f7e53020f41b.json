{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { OverlayContainer } from '@react-native-aria/overlays';\nimport React from 'react';\nimport { useControllableState, useKeyboardDismissable } from '../../../hooks';\nimport { Popper } from '../Popper';\nimport { composeEventHandlers, mergeRefs } from '../../../utils';\nimport { PresenceTransition } from '../Transitions';\nimport { Platform, StyleSheet } from 'react-native';\nimport { usePropsResolution } from '../../../hooks';\nimport Box from '../../primitives/Box';\nimport { useId } from '@react-native-aria/utils';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { uniqueId } from 'lodash';\nimport { ResponsiveQueryContext } from '../../../utils/useResponsiveQuery/ResponsiveQueryProvider';\nexport const Tooltip = _ref3 => {\n  let {\n    label,\n    children,\n    onClose,\n    onOpen,\n    defaultIsOpen,\n    placement,\n    openDelay = 0,\n    closeDelay = 0,\n    closeOnClick = true,\n    offset,\n    isDisabled,\n    hasArrow,\n    arrowSize = 12,\n    isOpen: isOpenProp,\n    ...props\n  } = _ref3;\n\n  var _ref, _ref2, _props$backgroundColo;\n\n  if (hasArrow && offset === undefined) {\n    offset = 0;\n  } else {\n    offset = 6;\n  }\n\n  const resolvedProps = usePropsResolution('Tooltip', props);\n  const [isOpen, setIsOpen] = useControllableState({\n    value: isOpenProp,\n    defaultValue: defaultIsOpen,\n    onChange: value => {\n      value ? onOpen && onOpen() : onClose && onClose();\n    }\n  });\n  const arrowBg = (_ref = (_ref2 = (_props$backgroundColo = props.backgroundColor) !== null && _props$backgroundColo !== void 0 ? _props$backgroundColo : props.bgColor) !== null && _ref2 !== void 0 ? _ref2 : props.bg) !== null && _ref !== void 0 ? _ref : resolvedProps.bg;\n  const targetRef = React.useRef(null);\n  const enterTimeout = React.useRef();\n  const exitTimeout = React.useRef(); // const tooltipID = '';\n  // const tooltipID = useId();\n\n  let tooltipID = uniqueId(); // let id = uniqueId();\n\n  const responsiveQueryContext = React.useContext(ResponsiveQueryContext);\n  const disableCSSMediaQueries = responsiveQueryContext.disableCSSMediaQueries;\n\n  if (!disableCSSMediaQueries) {\n    // This if statement technically breaks the rules of hooks, but is safe\n    // because the condition never changes after mounting.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    tooltipID = useId();\n  }\n\n  const openWithDelay = React.useCallback(() => {\n    if (!isDisabled) {\n      enterTimeout.current = setTimeout(() => setIsOpen(true), openDelay);\n    }\n  }, [isDisabled, setIsOpen, openDelay]);\n  const closeWithDelay = React.useCallback(() => {\n    if (enterTimeout.current) {\n      clearTimeout(enterTimeout.current);\n    }\n\n    exitTimeout.current = setTimeout(() => setIsOpen(false), closeDelay);\n  }, [closeDelay, setIsOpen]);\n  React.useEffect(() => () => {\n    clearTimeout(enterTimeout.current);\n    clearTimeout(exitTimeout.current);\n  }, []);\n  let newChildren = children;\n\n  if (typeof children === 'string') {\n    newChildren = /*#__PURE__*/React.createElement(Box, null, children);\n  }\n\n  newChildren = /*#__PURE__*/React.cloneElement(newChildren, {\n    'onPress': composeEventHandlers(newChildren.props.onPress, () => {\n      if (closeOnClick) {\n        closeWithDelay();\n      }\n    }),\n    'onFocus': composeEventHandlers(newChildren.props.onFocus, openWithDelay),\n    'onBlur': composeEventHandlers(newChildren.props.onBlur, closeWithDelay),\n    'onMouseEnter': composeEventHandlers(newChildren.props.onMouseEnter, openWithDelay),\n    'onMouseLeave': composeEventHandlers(newChildren.props.onMouseLeave, closeWithDelay),\n    'ref': mergeRefs([newChildren.ref, targetRef]),\n    'aria-describedby': isOpen ? tooltipID : undefined\n  });\n  useKeyboardDismissable({\n    enabled: isOpen,\n    callback: () => setIsOpen(false)\n  }); //TODO: refactor for responsive prop\n\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, newChildren, isOpen && /*#__PURE__*/React.createElement(OverlayContainer, null, /*#__PURE__*/React.createElement(PresenceTransition, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1,\n      transition: {\n        duration: 150\n      }\n    },\n    exit: {\n      opacity: 0,\n      transition: {\n        duration: 100\n      }\n    },\n    visible: isOpen,\n    style: StyleSheet.absoluteFill\n  }, /*#__PURE__*/React.createElement(Popper, {\n    triggerRef: targetRef,\n    onClose: () => setIsOpen(false),\n    placement: placement,\n    offset: offset\n  }, /*#__PURE__*/React.createElement(Popper.Content, {\n    isOpen: isOpen\n  }, hasArrow && /*#__PURE__*/React.createElement(Popper.Arrow, {\n    borderColor: \"transparent\",\n    backgroundColor: arrowBg,\n    height: arrowSize,\n    width: arrowSize\n  }), /*#__PURE__*/React.createElement(Box, _extends({}, resolvedProps, {\n    //@ts-ignore\n    accessibilityRole: Platform.OS === 'web' ? 'tooltip' : undefined,\n    nativeID: tooltipID\n  }), label))))));\n};","map":{"version":3,"mappings":"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","names":["OverlayContainer","React","useControllableState","useKeyboardDismissable","Popper","composeEventHandlers","mergeRefs","PresenceTransition","Platform","StyleSheet","usePropsResolution","Box","useId","useHasResponsiveProps","uniqueId","ResponsiveQueryContext","Tooltip","label","children","onClose","onOpen","defaultIsOpen","placement","openDelay","closeDelay","closeOnClick","offset","isDisabled","hasArrow","arrowSize","isOpen","isOpenProp","props","undefined","resolvedProps","setIsOpen","value","defaultValue","onChange","arrowBg","backgroundColor","bgColor","bg","targetRef","useRef","enterTimeout","exitTimeout","tooltipID","responsiveQueryContext","useContext","disableCSSMediaQueries","openWithDelay","useCallback","current","setTimeout","closeWithDelay","clearTimeout","useEffect","newChildren","cloneElement","onPress","onFocus","onBlur","onMouseEnter","onMouseLeave","ref","enabled","callback","initial","opacity","animate","transition","duration","exit","visible","style","absoluteFill","triggerRef","Content","Arrow","borderColor","height","width","accessibilityRole","OS","nativeID"],"sources":["/home/ttpl-rt-68/Documents/ULP/ulp-card/node_modules/native-base/lib/module/components/composites/Tooltip/Tooltip.tsx"],"sourcesContent":["import { OverlayContainer } from '@react-native-aria/overlays';\nimport React from 'react';\nimport { useControllableState, useKeyboardDismissable } from '../../../hooks';\nimport { Popper } from '../Popper';\nimport { composeEventHandlers, mergeRefs } from '../../../utils';\nimport { PresenceTransition } from '../Transitions';\nimport { Platform, StyleSheet } from 'react-native';\nimport { usePropsResolution } from '../../../hooks';\nimport Box from '../../primitives/Box';\nimport type { ITooltipProps } from './types';\nimport { useId } from '@react-native-aria/utils';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { uniqueId } from 'lodash';\nimport { ResponsiveQueryContext } from '../../../utils/useResponsiveQuery/ResponsiveQueryProvider';\n\nexport const Tooltip = ({\n  label,\n  children,\n  onClose,\n  onOpen,\n  defaultIsOpen,\n  placement,\n  openDelay = 0,\n  closeDelay = 0,\n  closeOnClick = true,\n  offset,\n  isDisabled,\n  hasArrow,\n  arrowSize = 12,\n  isOpen: isOpenProp,\n  ...props\n}: ITooltipProps) => {\n  if (hasArrow && offset === undefined) {\n    offset = 0;\n  } else {\n    offset = 6;\n  }\n\n  const resolvedProps = usePropsResolution('Tooltip', props);\n  const [isOpen, setIsOpen] = useControllableState({\n    value: isOpenProp,\n    defaultValue: defaultIsOpen,\n    onChange: (value) => {\n      value ? onOpen && onOpen() : onClose && onClose();\n    },\n  });\n\n  const arrowBg =\n    props.backgroundColor ?? props.bgColor ?? props.bg ?? resolvedProps.bg;\n\n  const targetRef = React.useRef(null);\n\n  const enterTimeout = React.useRef<any>();\n  const exitTimeout = React.useRef<any>();\n  // const tooltipID = '';\n  // const tooltipID = useId();\n\n  let tooltipID = uniqueId();\n\n  // let id = uniqueId();\n  const responsiveQueryContext = React.useContext(ResponsiveQueryContext);\n  const disableCSSMediaQueries = responsiveQueryContext.disableCSSMediaQueries;\n\n  if (!disableCSSMediaQueries) {\n    // This if statement technically breaks the rules of hooks, but is safe\n    // because the condition never changes after mounting.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    tooltipID = useId();\n  }\n\n  const openWithDelay = React.useCallback(() => {\n    if (!isDisabled) {\n      enterTimeout.current = setTimeout(() => setIsOpen(true), openDelay);\n    }\n  }, [isDisabled, setIsOpen, openDelay]);\n\n  const closeWithDelay = React.useCallback(() => {\n    if (enterTimeout.current) {\n      clearTimeout(enterTimeout.current);\n    }\n    exitTimeout.current = setTimeout(() => setIsOpen(false), closeDelay);\n  }, [closeDelay, setIsOpen]);\n\n  React.useEffect(\n    () => () => {\n      clearTimeout(enterTimeout.current);\n      clearTimeout(exitTimeout.current);\n    },\n    []\n  );\n\n  let newChildren = children;\n\n  if (typeof children === 'string') {\n    newChildren = <Box>{children}</Box>;\n  }\n\n  newChildren = React.cloneElement(newChildren, {\n    'onPress': composeEventHandlers<any>(newChildren.props.onPress, () => {\n      if (closeOnClick) {\n        closeWithDelay();\n      }\n    }),\n    'onFocus': composeEventHandlers<any>(\n      newChildren.props.onFocus,\n      openWithDelay\n    ),\n    'onBlur': composeEventHandlers<any>(\n      newChildren.props.onBlur,\n      closeWithDelay\n    ),\n    'onMouseEnter': composeEventHandlers<any>(\n      newChildren.props.onMouseEnter,\n      openWithDelay\n    ),\n    'onMouseLeave': composeEventHandlers<any>(\n      newChildren.props.onMouseLeave,\n      closeWithDelay\n    ),\n    'ref': mergeRefs([newChildren.ref, targetRef]),\n\n    'aria-describedby': isOpen ? tooltipID : undefined,\n  });\n\n  useKeyboardDismissable({\n    enabled: isOpen,\n    callback: () => setIsOpen(false),\n  });\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  return (\n    <>\n      {newChildren}\n      {isOpen && (\n        <OverlayContainer>\n          <PresenceTransition\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1, transition: { duration: 150 } }}\n            exit={{ opacity: 0, transition: { duration: 100 } }}\n            visible={isOpen}\n            style={StyleSheet.absoluteFill}\n          >\n            <Popper\n              triggerRef={targetRef}\n              onClose={() => setIsOpen(false)}\n              placement={placement}\n              offset={offset}\n            >\n              <Popper.Content isOpen={isOpen}>\n                {hasArrow && (\n                  <Popper.Arrow\n                    borderColor=\"transparent\"\n                    backgroundColor={arrowBg}\n                    height={arrowSize}\n                    width={arrowSize}\n                  />\n                )}\n                <Box\n                  {...resolvedProps}\n                  //@ts-ignore\n                  accessibilityRole={\n                    Platform.OS === 'web' ? 'tooltip' : undefined\n                  }\n                  nativeID={tooltipID}\n                >\n                  {label}\n                </Box>\n              </Popper.Content>\n            </Popper>\n          </PresenceTransition>\n        </OverlayContainer>\n      )}\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}